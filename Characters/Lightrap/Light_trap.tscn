[gd_scene load_steps=57 format=3 uid="uid://cyrw2qq2lle1w"]

[ext_resource type="Script" path="res://Characters/Lightrap/Light_trap.gd" id="1_xovi4"]
[ext_resource type="Texture2D" uid="uid://c80gqniumq0bu" path="res://Characters/Lightrap/Lightrap.png" id="2_xs5it"]

[sub_resource type="Animation" id="Animation_o0ekp"]
resource_name = "Eat"
length = 2.5
loop_mode = 1
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.18, 0.24, 0.3, 0.39, 0.47, 0.6, 0.75, 0.9, 0.99, 1.07, 1.13, 1.19, 1.27, 1.36, 1.44, 1.5, 1.56, 1.64, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 140, 141]
}

[sub_resource type="Animation" id="Animation_e1aar"]
resource_name = "Hide"
length = 0.5
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.35),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [31, 32, 33, 34, 35, 36, 37]
}

[sub_resource type="Animation" id="Animation_5h1yr"]
resource_name = "Idle_Hide_Hide"
length = 0.35
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.05, 0.1, 0.15, 0.2, 0.25),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [26, 25, 24, 23, 22, 37]
}

[sub_resource type="Animation" id="Animation_ttncb"]
resource_name = "Idle_Hide_Searching"
length = 1.44
loop_mode = 1
step = 0.08
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.08, 0.16, 0.24, 0.4, 0.48, 0.56, 0.64, 0.72, 0.8, 0.88, 0.96, 1.12, 1.2, 1.28, 1.36),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [26, 27, 28, 29, 28, 27, 26, 25, 26, 27, 28, 29, 28, 27, 26, 25]
}

[sub_resource type="Animation" id="Animation_2hb8f"]
resource_name = "Idle_Hide_looking_up"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [37, 22, 23, 24, 25]
}

[sub_resource type="Animation" id="Animation_d3hpn"]
resource_name = "Idle_glow_up"
length = 2.4
loop_mode = 1
step = 0.15
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05, 1.35, 1.5, 1.65, 1.8, 1.95, 2.1, 2.25),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0]
}

[sub_resource type="Animation" id="Animation_u3pou"]
resource_name = "Idle_hide"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [37]
}

[sub_resource type="Animation" id="Animation_gvkep"]
resource_name = "Idle_moving"
length = 3.425
loop_mode = 1
step = 0.025
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875, 1, 1.125, 1.25, 1.375, 1.5, 1.625, 1.75, 1.875, 2, 2.125, 2.25, 2.375, 2.525, 2.65, 2.8, 2.925, 3.05, 3.175, 3.3),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 76, 75, 76, 60, 74, 60, 76, 60, 74, 60, 76, 60]
}

[sub_resource type="Animation" id="Animation_jmbum"]
resource_name = "Idle_stand"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_3ywe8"]
resource_name = "Pull_back"
length = 3.6
step = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8, 1.2, 1.6, 2, 2.4, 2.8, 3.2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [141, 142, 143, 144, 145, 146, 147, 148, 149]
}

[sub_resource type="Animation" id="Animation_csetr"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}

[sub_resource type="Animation" id="Animation_yij6f"]
resource_name = "Reglow"
step = 0.08
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.08, 0.16, 0.24, 0.32, 0.4, 0.48, 0.56),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [150, 151, 152, 153, 154, 155, 156, 157]
}

[sub_resource type="Animation" id="Animation_8l854"]
resource_name = "Show_up"
length = 2.3
loop_mode = 1
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3, 0.375, 0.5, 0.6, 0.7, 0.81, 0.9, 0.97, 1.04, 1.11, 1.18, 1.27, 1.38, 1.49, 1.6, 1.7, 1.81, 1.91, 2, 2.09),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 104, 105, 108, 107, 106, 107, 108, 105, 108]
}

[sub_resource type="Animation" id="Animation_g7bfr"]
resource_name = "Unglow"
step = 0.08
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.08, 0.16, 0.24, 0.32, 0.4, 0.48, 0.56),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [157, 156, 155, 154, 153, 151, 150, 149]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_wm8hf"]
_data = {
"Eat": SubResource("Animation_o0ekp"),
"Hide": SubResource("Animation_e1aar"),
"Idle_Hide_Hide": SubResource("Animation_5h1yr"),
"Idle_Hide_Searching": SubResource("Animation_ttncb"),
"Idle_Hide_looking_up": SubResource("Animation_2hb8f"),
"Idle_glow_up": SubResource("Animation_d3hpn"),
"Idle_hide": SubResource("Animation_u3pou"),
"Idle_moving": SubResource("Animation_gvkep"),
"Idle_stand": SubResource("Animation_jmbum"),
"Pull_back": SubResource("Animation_3ywe8"),
"RESET": SubResource("Animation_csetr"),
"Reglow": SubResource("Animation_yij6f"),
"Show_up": SubResource("Animation_8l854"),
"Unglow": SubResource("Animation_g7bfr")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6lhlu"]
animation = &"Eat"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bqh8j"]
animation = &"Hide"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_r82ec"]
animation = &"Idle_Hide_Hide"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_my7g2"]
animation = &"Idle_Hide_Searching"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5y7nj"]
animation = &"Idle_Hide_looking_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6ik5n"]
animation = &"Idle_glow_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lqjh2"]
animation = &"Idle_hide"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a6wf7"]
animation = &"Idle_moving"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i3dtb"]
animation = &"Idle_stand"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_co8q2"]
animation = &"Pull_back"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qx7um"]
animation = &"Reglow"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sifp7"]
animation = &"Show_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yidu6"]
animation = &"Unglow"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vka6j"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6npyo"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_byosh"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8kgbx"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ouv1y"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_avsfc"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j61i5"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dhd17"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4x8ds"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fhvq4"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c7ox7"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_75l0b"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_muhao"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t047y"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7hg2l"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_b53kg"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ked3a"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s6148"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_oi2dg"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_40dpm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7bh2a"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lxfx5"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6kkbm"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_daxos"]
states/Eat/node = SubResource("AnimationNodeAnimation_6lhlu")
states/Eat/position = Vector2(546.667, 99.9753)
states/End/position = Vector2(1196, 45.9753)
states/Hide/node = SubResource("AnimationNodeAnimation_bqh8j")
states/Hide/position = Vector2(298.667, 248.667)
states/Idle_Hide_Hide/node = SubResource("AnimationNodeAnimation_r82ec")
states/Idle_Hide_Hide/position = Vector2(631.556, 290)
states/Idle_Hide_Searching/node = SubResource("AnimationNodeAnimation_my7g2")
states/Idle_Hide_Searching/position = Vector2(842.667, 315.333)
states/Idle_Hide_looking_up/node = SubResource("AnimationNodeAnimation_5y7nj")
states/Idle_Hide_looking_up/position = Vector2(620, 362)
states/Idle_glow_up/node = SubResource("AnimationNodeAnimation_6ik5n")
states/Idle_glow_up/position = Vector2(408.444, 192.568)
states/Idle_hide/node = SubResource("AnimationNodeAnimation_lqjh2")
states/Idle_hide/position = Vector2(420, 299.333)
states/Idle_moving/node = SubResource("AnimationNodeAnimation_a6wf7")
states/Idle_moving/position = Vector2(200, 192.222)
states/Idle_stand/node = SubResource("AnimationNodeAnimation_i3dtb")
states/Idle_stand/position = Vector2(344, 99.4815)
states/Pull_back/node = SubResource("AnimationNodeAnimation_co8q2")
states/Pull_back/position = Vector2(698.667, 122)
states/Reglow/node = SubResource("AnimationNodeAnimation_qx7um")
states/Reglow/position = Vector2(461.334, 32.6663)
states/Show_up/node = SubResource("AnimationNodeAnimation_sifp7")
states/Show_up/position = Vector2(569.333, 193.111)
states/Start/position = Vector2(172, 26.2222)
states/Unglow/node = SubResource("AnimationNodeAnimation_yidu6")
states/Unglow/position = Vector2(322.667, 7.45524)
transitions = ["Idle_stand", "Idle_moving", SubResource("AnimationNodeStateMachineTransition_vka6j"), "Idle_moving", "Idle_stand", SubResource("AnimationNodeStateMachineTransition_6npyo"), "Idle_stand", "Idle_glow_up", SubResource("AnimationNodeStateMachineTransition_byosh"), "Idle_glow_up", "Idle_stand", SubResource("AnimationNodeStateMachineTransition_8kgbx"), "Show_up", "Idle_stand", SubResource("AnimationNodeStateMachineTransition_ouv1y"), "Idle_stand", "Eat", SubResource("AnimationNodeStateMachineTransition_avsfc"), "Idle_moving", "Hide", SubResource("AnimationNodeStateMachineTransition_j61i5"), "Idle_stand", "Hide", SubResource("AnimationNodeStateMachineTransition_dhd17"), "Idle_glow_up", "Hide", SubResource("AnimationNodeStateMachineTransition_4x8ds"), "Eat", "Pull_back", SubResource("AnimationNodeStateMachineTransition_fhvq4"), "Pull_back", "Reglow", SubResource("AnimationNodeStateMachineTransition_c7ox7"), "Reglow", "Idle_glow_up", SubResource("AnimationNodeStateMachineTransition_75l0b"), "Hide", "Idle_hide", SubResource("AnimationNodeStateMachineTransition_muhao"), "Idle_hide", "Idle_Hide_looking_up", SubResource("AnimationNodeStateMachineTransition_t047y"), "Idle_Hide_looking_up", "Idle_Hide_Hide", SubResource("AnimationNodeStateMachineTransition_7hg2l"), "Idle_Hide_looking_up", "Idle_Hide_Searching", SubResource("AnimationNodeStateMachineTransition_b53kg"), "Idle_Hide_Searching", "Idle_Hide_Hide", SubResource("AnimationNodeStateMachineTransition_ked3a"), "Idle_Hide_Hide", "Idle_hide", SubResource("AnimationNodeStateMachineTransition_s6148"), "Idle_hide", "Show_up", SubResource("AnimationNodeStateMachineTransition_oi2dg"), "Start", "Idle_stand", SubResource("AnimationNodeStateMachineTransition_40dpm"), "Idle_stand", "Reglow", SubResource("AnimationNodeStateMachineTransition_7bh2a"), "Idle_stand", "Unglow", SubResource("AnimationNodeStateMachineTransition_lxfx5"), "Unglow", "Reglow", SubResource("AnimationNodeStateMachineTransition_6kkbm")]
graph_offset = Vector2(-67, -29.8781)

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_ro8h1"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_isq14"]
radius = 29.0
height = 82.0

[node name="StaticBody2D" type="StaticBody2D"]
script = ExtResource("1_xovi4")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("2_xs5it")
hframes = 30
vframes = 6
frame = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_wm8hf")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_daxos")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/playback = SubResource("AnimationNodeStateMachinePlayback_ro8h1")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
visible = false
polygon = PackedVector2Array(-4, 7, -3, 8, 1, 8, 2, 7, 2, 6, 1, 5, -3, 5, -4, 6)

[node name="Area2D" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-1, 6)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_isq14")
